---
title: Vector Library versus Vector Database
slug: vector-library-vs-vector-database
authors: [erika]
date: 2022-12-01
tags: ['concepts', 'search']
image: ./img/hero.png
description: "Learn more about the differences between vector libraries and vector databases!"
---
![Vector library versus Vector Database](./img/hero.png)

<!--- The post starts by introducing the concept of vector search and vector embeddings generated by Machine Learning models to represent data objects. --->

In the world of Vector Search, we use **vector embeddings** – generated by **Machine Learning models** – to represent data objects (text, images, audio, etc.). The key idea here is that embeddings that are semantically similar to each other have a smaller distance between them.

<!--- It explains how vector distance functions like euclidean distance or cosine distance can be used to determine if these objects are similar to other objects in the collection. However, to do this, we need to compare the distances between the query vector and every vector in the collection. This type of calculation can be difficult to scale to millions or billions of vectors. --->

We can use [vector distance functions](/blog/distance-metrics-in-vector-search) like euclidean distance or cosine distance to determine if these objects are similar to other objects in the collection. However, to do this we need to compare the distances between the query vector and **every** vector in the collection. This type of calculation can be difficult to scale to millions or billions of vectors.

<!--- This is where Vector Databases and Vector Libraries come in, they both use the Approximate Nearest Neighbor (ANN) algorithm to search through vectors in a tiny fraction of the time. --->

This is why we have **Vector Databases** and **Vector Libraries**. They both use the Approximate Nearest Neighbor (ANN) algorithm to search through vectors in a tiny fraction of the time. You can learn more about this topic from ["Why Vectors Search is so Fast."](/blog/why-is-vector-search-so-fast)

<!--- The post then asks the big question, what are the key differences between them, and why/when should you choose one over the other? --->

## The Big Question
So, if both vector databases and vector libraries allow you to efficiently search through your vectors. What are the key differences between them, and why/when should you choose one over the other?

<!--- It then explains the key characteristics of Vector Libraries --->

## Vector Libraries
Vector libraries store vector embeddings in in-memory indexes, in order to perform similarity search. Most vector libraries share the following characteristics:
1. they store vectors only,
2. index data is immutable,
3. query during import limitation

<!--- It explains each of the characteristics in detail --->

### Store Vectors Only
Vector libraries only store vector embeddings and not the associated objects they were generated from.

When you run a query, a vector library will respond with the relevant vectors and object ids.
This is limiting since the actual information is stored in the object and not the id. To solve this problem, you would need to store the objects in a secondary storage. You can then use the returned ids from the query and match them to the objects to understand the results.

### Immutable Data
Indexes produced by vector libraries are immutable. This means that once you have imported your data and built the index, you cannot make any modifications (no new inserts, deletes or changes). To make any changes to your index, you will need to rebuild it from scratch.

### Query during Import Limitation
Most vector libraries cannot be queried while importing your data. It is required to import all of your data objects first. Then the index is built after the objects have been imported. This can be a concern for applications that require importing millions or even billions of objects.

<!--- It then provides examples of Vector Libraries --->

### Examples of Vector Libraries
There are quite a few <a href="http://ann-benchmarks.com/" target="_blank" data-proofer-ignore>libraries</a> to choose from - [Facebook Faiss](https://github.com/facebookresearch/faiss), [Spotify Annoy](https://github.com/spotify/annoy), [Google ScaNN](https://github.com/google-research/google-research/tree/master/scann), [NMSLIB](https://github.com/nmslib/nmslib), and [HNSWLIB](https://github.com/nmslib/hnswlib). These libraries enable users to perform vector similarity search using the ANN algorithm.

<!--- It then explains the different implementations of the ANN algorithm in these libraries --->

The ANN algorithm has different implementations depending on the vector library. Faiss uses the clustering method, Annoy uses trees, and ScaNN uses vector compression. There is a performance tradeoff for each, which you can choose depending on your application and performance measure.

<!--- It then explains the use cases of Vector Libraries --->

### Example Use Cases
Vector libraries are commonly used for applications that do not have changing data. For example, academic information retrieval benchmarks are designed to test performance on a **static snapshot** of data. When plugging an ANN index into production-ready applications, databases offer many appealing features not found in a library.

<!--- It then explains the key characteristics of Vector Databases --->

## Vector Databases
One of the core features that set vector databases apart from libraries is the ability to store and update your data. Vector databases have full **CRUD** (create, read, update, and delete) support that solves the limitations of a vector library. Additionally, databases are more focused on enterprise-level [production deployments](https://www.youtube.com/watch?v=gXPuhyM11_k).

<!--- It explains each of the characteristics in detail --->

### Store Vectors and Objects
Databases can store both the data objects and vectors. Since both are stored, you can combine vector search with structured filters. Filters allow you to make sure the nearest neighbors match the filter from the metadata. [Here](https://towardsdatascience.com/effects-of-filtered-hnsw-searches-on-recall-and-latency-434becf8041c) is an article on the effects of
