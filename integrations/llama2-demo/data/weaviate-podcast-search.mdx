# Import necessary libraries
import whisper  # pip install git+https://github.com/openai/whisper.git
import time

# Load Whisper model
model = whisper.load_model("large-v2").to("cuda:0")

# Transcribe an mp3 file
start = time.time()
result = model.transcribe("20.mp3")
print(f"Transcribed in {time.time() - start} seconds.")

# Save the transcription to a text file
f = open("20-text-dump.txt", "w+")
f.write(result["text"])
f.close()

# Manual effort is required to correct some errors in the transcription
# Fine-tuning Whisper might be helpful for podcasts with many published episodes

# The transcribed text can be used to create a knowledge base in Weaviate

