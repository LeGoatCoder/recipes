# Title: What is Ref2Vec and why you need it for your recommendation system

# Weaviate 1.16 introduced the Ref2Vec module. This article gives an overview of what Ref2Vec is and some examples in which it can add value such as recommendations or representing long objects.

# What is Ref2Vec?
# The name Ref2Vec is short for reference-to-vector, and it offers the ability to vectorize a data object with its cross-references to other objects. The Ref2Vec module currently holds the name ref2vec-centroid because it uses the average, or centroid vector, of the cross-referenced vectors to represent the referencing object.

# Example of Ref2Vec in a Weaviate database containing User and Product classes of objects to produce recommendations.
# A User who has liked 3 shoe Product instances will be represented as the average vector of the 3 shoe Product vectors, whereas another User might be represented by an average vector of whatever Product instances that they liked.
# This can be used for recommendation, for instance, by treating the averaged vector of the User as a search query in Product objects.

# Benefit of Ref2Vec
# The benefit of this approach is that the referencing object can be characterized from its actions and relationships as well as refined over time.
# Ref2Vec can capture each User's interests and tendencies across multiple axes, such as product categories or even fashion styles!
# And by doing so, the resulting recommendations can more closely match the User's product and style preferences.

# Potential of Ref2Vec
# Weaviate can also power high-quality, lightning-fast recommendations with Ref2Vec.
# Ref2Vec represents a user's interests by drawing a graph of cross-references from the user to objects the user has engaged with.
# This gives Weaviate unique points of reference for each user that can be used to rank the search results.

# Ref2Vec in e-Commerce images
# Ref2Vec captures the intuition by calculating vectors that aggregate each User's interaction with another class.
# This helps to produce more relevant results at speed.

# Using Ref2Vec for Recommendation with "user-as-query"
# This can be done by sending queries like this to Weaviate:
# This short query encapsulates the power of Ref2Vec. Although all the query does is provide the ID of the User object, Ref2Vec has done the hard work by inferring a centroid vector from the User's references to other vectors.

# Representing long objects
# One of the most outstanding problems in Search technology is finding suitable representations for long objects.
# Weaviate already offers a solution to represent long documents with Cross-References!
# However, what if we are searching through Scientific Papers, Legal contracts, or Screenplays such that we need to make long-range references between the Paragraphs?
# In this case, Ref2Vec can be used to average the vectors that represent each Paragraph to form the representation of the referencing Article Class.

# Future of Ref2Vec
# We are very excited about the potential of Ref2Vec, and how it leverages existing symbolic data to augment vector searches in a new way.
# Weaviate is a database that supports data structures like inverted index structures of categorical properties and can integrate symbolic properties such as "colour" in the HNSW vector search algorithm to enable more efficient and guided search.
# Ref2Vec-Centroid goes some way to harness the joint power of vector search combined with relational structure, by making it easier to derive object vectors from relationships.
# We are also excited to see what you build with Ref2Vec, and excited to build on this module with its future iterations.

